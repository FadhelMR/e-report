<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-Report - Layanan Aspirasi dan Pengaduan Online</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <!-- 1. Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">
          <i class="bi-shield-check me-2"></i>E-REPORT
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto align-items-lg-center">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#"
                >Beranda</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">Blog</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#alur-pelaporan">Alur Pelaporan</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#kontak">Kontak</a>
            </li>
            <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
              <a class="btn btn-outline-light" href="login.html">Login</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- 2. Hero Section -->
    <header class="hero-section text-center">
      <div class="container">
        <h1 class="display-4 fw-bold">Layanan Aspirasi dan Pengaduan Online</h1>
        <p class="lead my-4 col-lg-8 mx-auto">
          Sampaikan laporan Anda langsung kepada instansi pemerintah berwenang
          untuk penanganan yang lebih cepat dan transparan.
        </p>
        <a href="#" class="btn btn-danger btn-lg fw-bold">
          <i class="bi-megaphone-fill me-2" href="#blog"></i>LAPOR!
        </a>
      </div>
    </header>

    <main>
      <!-- 3. Tracking Section -->
      <section class="tracking-section">
        <div class="container">
          <div class="tracking-card">
            <div class="row text-center">
              <div class="col-12 mb-4">
                <h2 class="fw-bold">Tracking Laporan</h2>
                <hr class="w-25 mx-auto" />
              </div>
              <div class="col-md-4 mb-3 mb-md-0">
                <h3 class="display-5 fw-bold text-primary">1.205</h3>
                <p class="text-muted fs-5">Jumlah Laporan Masuk</p>
              </div>
              <div class="col-md-4 mb-3 mb-md-0">
                <h3 class="display-5 fw-bold text-warning">115</h3>
                <p class="text-muted fs-5">Laporan Dalam Proses</p>
              </div>
              <div class="col-md-4">
                <h3 class="display-5 fw-bold text-success">1.090</h3>
                <p class="text-muted fs-5">Laporan Selesai</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. Blog Section -->
      <section id="blog">
        <div class="container py-5 my-5">
          <div class="section-title text-center">
            <!-- <h2>Blog</h2> -->
          </div>
          <div class="row align-items-center">
            <div class="col-lg-6">
              <img
                src="https://pid.kepri.polri.go.id/wp-content/uploads/2024/04/Laporan-POlisi-1.jpg"
                class="img-fluid rounded"
                alt="Tim sedang berdiskusi"
              />
            </div>
            <div class="col-lg-6 mt-4 mt-lg-0">
              <h3>Mengapa Harus Kami?</h3>
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim
                voluptatem eaque delectus quas non beatae amet iure aut accusamus animi
                veritatis voluptate sed nobis debitis blanditiis, autem consectetur
                facere maiores quis aperiam, alias fugit sit commodi. Eveniet, quae.
                Cumque totam sequi rem, praesentium beatae vero similique nemo
                repellendus nostrum voluptatibus!
              </p>

              <!-- Tombol untuk menampilkan form -->
              <button class="btn btn-danger" id="btnLapor">Lapor Sekarang</button>
            </div>
          </div>

          <!-- Form laporan (disembunyikan dulu) -->
          <div id="formLapor" class="mt-5 d-none">
            <div class="card shadow p-4 border-0">
              <h4 class="text-danger mb-3">Form Laporan Masyarakat</h4>
              <form>
                <div class="mb-3">
                  <label for="nama" class="form-label">Nama Lengkap</label>
                  <input type="text" class="form-control" id="nama" placeholder="Masukkan nama Anda">
                </div>

                <div class="mb-3">
                  <label for="email" class="form-label">Email (opsional)</label>
                  <input type="email" class="form-control" id="email" placeholder="Masukkan email Anda">
                </div>

                <div class="mb-3">
                  <label for="laporan" class="form-label">Isi Laporan</label>
                  <textarea class="form-control" id="laporan" rows="3" placeholder="Tuliskan laporan Anda di sini..."></textarea>
                </div>

                <div class="mb-3">
                  <label for="foto" class="form-label">Unggah Foto (opsional)</label>
                  <input class="form-control" type="file" id="foto" accept="image/*">
                </div>

                <button type="submit" class="btn btn-danger">Kirim Laporan</button>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- 5. Alur Pelaporan Section -->
      <section id="alur-pelaporan" class="py-5 mt-5">
        <div class="container text-center">
          <h2 class="fw-bold">Alur Pelaporan</h2>
          <p class="lead text-muted mb-5">
            Ikuti 4 langkah mudah ini untuk membuat laporan.
          </p>
          <div class="row g-4">
            <!-- Step 1 -->
            <div class="col-md-6 col-lg-3">
              <div class="alur-icon bg-primary">
                <i class="bi-pencil-square"></i>
              </div>
              <h4 class="fw-bold">1. Tulis Laporan</h4>
              <p>
                Tuliskan laporan Anda dengan jelas dan lengkap agar mudah untuk
                diproses.
              </p>
            </div>
            <!-- Step 2 -->
            <div class="col-md-6 col-lg-3">
              <div class="alur-icon bg-warning">
                <i class="bi-arrow-repeat"></i>
              </div>
              <h4 class="fw-bold">2. Proses Verifikasi</h4>
              <p>
                Laporan Anda akan diverifikasi oleh petugas untuk
                ditindaklanjuti.
              </p>
            </div>
            <!-- Step 3 -->
            <div class="col-md-6 col-lg-3">
              <div class="alur-icon bg-info">
                <i class="bi-tools"></i>
              </div>
              <h4 class="fw-bold">3. Tindak Lanjut</h4>
              <p>
                Instansi berwenang akan melakukan penanganan sesuai dengan
                laporan.
              </p>
            </div>
            <!-- Step 4 -->
            <div class="col-md-6 col-lg-3">
              <div class="alur-icon bg-success">
                <i class="bi-check2-circle"></i>
              </div>
              <h4 class="fw-bold">4. Laporan Selesai</h4>
              <p>
                Anda akan mendapatkan notifikasi jika laporan telah selesai
                ditangani.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 6. Kontak Section -->
      <main id="kontak" class="container">
      <div class="card form-card shadow-sm">
      <div class="card-body">
      <h1 class="h3 mb-3">Hubungi Kami</h1>
      <p class="text-muted">Isi form berikut, kami akan membalas secepatnya.</p>


      <form id="contactForm" class="row g-3 needs-validation" novalidate>
      <input type="text" name="website" id="website" class="d-none" tabindex="-1" autocomplete="off">


      <div class="col-md-6">
      <label for="name" class="form-label required">Nama</label>
      <input type="text" class="form-control" id="name" name="name" placeholder="Nama lengkap" required>
      <div class="invalid-feedback">Masukkan nama kamu.</div>
      </div>


      <div class="col-md-6">
      <label for="email" class="form-label required">Email</label>
      <input type="email" class="form-control" id="email" name="email" placeholder="nama@gmail.com" required>
      <div class="invalid-feedback">Masukkan email valid.</div>
      </div>


      <div class="col-md-6">
      <label for="phone" class="form-label">No. Telepon</label>
      <input type="tel" class="form-control" id="phone" name="phone" placeholder="0812xxxxxxx">
      <div class="form-text">Opsional, tapi membantu kami menghubungi cepat.</div>
      </div>


      <div class="col-md-6">
      <label for="subject" class="form-label required">Subjek</label>
      <input type="text" class="form-control" id="subject" name="subject" placeholder="Topik pesan" required>
      <div class="invalid-feedback">Tulis subjek pesan.</div>
      </div>


      <div class="col-12">
      <label for="message" class="form-label required">Pesan</label>
      <textarea class="form-control" id="message" name="message" rows="6" placeholder="Tulis pesanmu di sini..." required></textarea>
      <div class="invalid-feedback">Tulis pesan minimal 10 karakter.</div>
      </div>


      <div class="col-md-6">
      <label for="attachment" class="form-label">Lampiran (opsional)</label>
      <input class="form-control" type="file" id="attachment" name="attachment" accept="image/*,application/pdf">
      <div class="form-text">JPG/PNG/PDF, maksimal 5MB.</div>
      </div>


      <div class="col-md-6 d-flex align-items-center">
      <div class="form-check">
      <input class="form-check-input" type="checkbox" value="1" id="consent" name="consent" required>
      <label class="form-check-label" for="consent">Saya setuju dihubungi terkait pesan ini.</label>
      <div class="invalid-feedback">Mohon setujui untuk kami membalas.</div>
      </div>
      </div>
    </main>

    <!-- 5. Footer -->
    <footer class="bg-dark text-white text-center py-4 mt-5">
      <div class="container">
        <p class="mb-0">&copy; 2025 E-Report. All Rights Reserved.</p>
      </div>
    </footer>

    <!-- Bootstrap 5 JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    
          <!-- Script untuk menampilkan/menyembunyikan form -->
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const btn = document.getElementById("btnLapor");
          const form = document.getElementById("formLapor");

          btn.addEventListener("click", function () {
            if (form.classList.contains("d-none")) {
              form.classList.remove("d-none");
              this.textContent = "Tutup Form";
            } else {
              form.classList.add("d-none");
              this.textContent = "Lapor Sekarang";
            }
          });
        });
      </script>



    <!-- script JS form -->
      <script>
      const submitBtn = document.querySelector('#submitBtn');
      const successModal = new bootstrap.Modal(document.getElementById('successModal'));


      form.addEventListener('submit', function (event) {
      if (!form.checkValidity()) {
      event.preventDefault();
      event.stopPropagation();
      form.classList.add('was-validated');
      return;
      }


      const message = document.getElementById('message');
      if (message.value.trim().length < 10) {
      message.classList.add('is-invalid');
      event.preventDefault();
      event.stopPropagation();
      return;
      }


      const honeypot = document.getElementById('website');
      if (honeypot && honeypot.value) {
      event.preventDefault();
      event.stopPropagation();
      return;
      }


      event.preventDefault();
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-1"></span> Mengirim...';


      const formData = new FormData(form);


      fetch('/api/contact', {
      method: 'POST',
      body: formData
      })
      .then(response => {
      if (!response.ok) throw new Error('Network response not ok');
      return response.json();
      })
      .then(data => {
      form.reset();
      form.classList.remove('was-validated');
      successModal.show();
      })
      .catch(err => {
      console.error(err);
      alert('Terjadi kesalahan saat mengirim. Silakan coba lagi.');
      })
      .finally(() => {
      submitBtn.disabled = false;
      submitBtn.innerHTML = '<i class="bi bi-send me-1"></i> Kirim';
      });


      }, false)
      </script>

    <!-- Custom JS for Navbar Scroll Effect -->
    <script>
      const nav = document.querySelector(".navbar");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          nav.classList.add("scrolled");
        } else {
          nav.classList.remove("scrolled");
        }
      });
    </script>

  </body>
</html>
